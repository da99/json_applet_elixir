
[
  {
    "it": "accepts strings",
    "input": "[1,2,3]",
    "output": [1,2,3]
  },
  {
    "it": "accepts arrays",
    "input": [1,3],
    "output": [1,3]
  },
  {
    "it": "runs functions: [string, array]",
    "input": ["sum",[1,2,3]],
    "output": [6]
  },
  {
    "it": "runs functions w/blocks: [string, array, array]",
    "input": ["repeat", ["2"], ["+", [1,3]]],
    "output": [4,4]
  },
  {
    "it": "fatally fails if array has no func name: [array]",
    "input": [[1,2]],
    "output": {"error": "Func name not specified"}
  },
  {
    "it": "evaluates strings starting with !: \"! obj.key\"",
    "input": ["var", ["K", 5], "! name"],
    "output": [5, 5]
  },
  {
    "it": "evaluates args w/o placing anything on the stack",
    "input": ["var", ["n", 1], "echo", ["! n"]],
    "output": [1,1]
  },
  {
    "it":     "has 'raw' defined as a function",
    "input":  ["raw", ["! name"]],
    "output": ["! name"]
  },
  {
    "it":     "evals values in objects: {\"key\": \"! key\"}",
    "input":  ["var", ["n", "2"], {"key": "! n"}],
    "output": ["2", {"key": "! n"}]
  },
  {
    "it":     "evals values in object keys: {\"! v\": 2}",
    "input":  ["var", ["v", "3"], {"! v": "! v"}],
    "output": ["3", {"3":"3"}]
  }
]

